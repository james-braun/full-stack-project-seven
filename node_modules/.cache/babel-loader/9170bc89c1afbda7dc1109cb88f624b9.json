{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\full-stack-project-seven\\\\src\\\\components\\\\Items.js\";\nimport React, { PureComponent } from 'react';\nimport Gallery from './Gallery';\nimport axios from 'axios';\nimport apiKey from './config.js';\n\nclass Items extends PureComponent {\n  constructor() {\n    super();\n\n    this.performSearch = search => {\n      // fetch data from API\n      var myhttp = \"https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=\".concat(apiKey, \"&per_page=24&format=json&nojsoncallback=1&text=\").concat(search, \"&tags=\").concat(search);\n      axios(myhttp).then(response => {\n        this.setState({\n          resp: response,\n          // set to data response.\n          prevUrl: this.props.match.url // set to current url.\n\n        });\n      }).catch(error => {\n        console.log('Error fetching and Parsing data ', error);\n      });\n    };\n\n    this.state = {\n      resp: null,\n      // holds the data from the axios fetch.\n      prevUrl: null // Holds the previously visited url.\n\n    };\n  }\n\n  render() {\n    // if the previously rendered url is not the current url being \n    // rendered then preform a search and display \"loading...\" and update\n    // the 'prevUrl' in the search function. otherwise display results.\n    if (this.state.prevUrl !== this.props.match.url) {\n      this.performSearch(this.props.match.params.name);\n      return React.createElement(\"div\", {\n        className: \"photo-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"loading...\"), React.createElement(\"div\", {\n        class: \"sk-fading-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"sk-circle1 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle2 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle3 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle4 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle5 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle6 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle7 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle8 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle9 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle10 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle11 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"sk-circle12 sk-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(Gallery, {\n        name: this.props.match.params.name,\n        response: this.state.resp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Items;","map":{"version":3,"sources":["D:\\code\\full-stack-project-seven\\src\\components\\Items.js"],"names":["React","PureComponent","Gallery","axios","apiKey","Items","constructor","performSearch","search","myhttp","then","response","setState","resp","prevUrl","props","match","url","catch","error","console","log","state","render","params","name"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport Gallery from './Gallery';\r\nimport axios from 'axios';\r\nimport apiKey from './config.js';\r\n\r\n\r\nclass Items extends PureComponent {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            resp: null,   // holds the data from the axios fetch.\r\n            prevUrl: null // Holds the previously visited url.\r\n        };\r\n    }\r\n\r\n    performSearch = (search) => {\r\n        // fetch data from API\r\n        var myhttp = `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&per_page=24&format=json&nojsoncallback=1&text=${search}&tags=${search}`;\r\n        axios(myhttp)\r\n            .then(response => {\r\n                this.setState({\r\n                    resp: response,  // set to data response.\r\n                    prevUrl: this.props.match.url // set to current url.\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log('Error fetching and Parsing data ', error);\r\n            });\r\n    }\r\n    render() {\r\n        // if the previously rendered url is not the current url being \r\n        // rendered then preform a search and display \"loading...\" and update\r\n        // the 'prevUrl' in the search function. otherwise display results.\r\n        if (this.state.prevUrl !== this.props.match.url) {\r\n            this.performSearch(this.props.match.params.name);\r\n            return (\r\n                <div className=\"photo-container\">\r\n                    <h2>loading...</h2>\r\n                    {/*sk-fading-circle curtesy https://tobiasahlin.com/spinkit/ */}\r\n                    <div class=\"sk-fading-circle\">\r\n                        <div class=\"sk-circle1 sk-circle\"></div>\r\n                        <div class=\"sk-circle2 sk-circle\"></div>\r\n                        <div class=\"sk-circle3 sk-circle\"></div>\r\n                        <div class=\"sk-circle4 sk-circle\"></div>\r\n                        <div class=\"sk-circle5 sk-circle\"></div>\r\n                        <div class=\"sk-circle6 sk-circle\"></div>\r\n                        <div class=\"sk-circle7 sk-circle\"></div>\r\n                        <div class=\"sk-circle8 sk-circle\"></div>\r\n                        <div class=\"sk-circle9 sk-circle\"></div>\r\n                        <div class=\"sk-circle10 sk-circle\"></div>\r\n                        <div class=\"sk-circle11 sk-circle\"></div>\r\n                        <div class=\"sk-circle12 sk-circle\"></div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <Gallery name={this.props.match.params.name} response={this.state.resp} />\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Items;"]},"metadata":{},"sourceType":"module"}